{"version":3,"file":"assistant-reference-picker-lazy.js?v=f39943e5f7503cfe5ae1","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;ACtMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACjLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACrEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACpHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;AC3LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;ACrDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;AC7DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAkBA;AACA;;;;;;;;;;;;;;;;;;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAkBA;AACA;;;;;;;;;;;;;;;;;;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAkBA;AACA;;;;;;;;;;;;;;;ACvCA;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;ACAA","sources":["webpack:///assistant/src/components/FreePrompt/FreePromptGenerationDisplay.vue?vue&type=script&lang=js","webpack:///assistant/src/views/FreePrompt/FreePromptCustomPickerElement.vue?vue&type=script&lang=js","webpack:///assistant/src/views/Text2Image/Text2ImageCustomPickerElement.vue?vue&type=script&lang=js","webpack:///assistant/src/components/FreePrompt/FreePromptGenerationDisplay.vue?vue&type=template&id=1474f52a&scoped=true","webpack:///assistant/src/views/FreePrompt/FreePromptCustomPickerElement.vue?vue&type=template&id=591b4c70&scoped=true","webpack:///assistant/src/views/Text2Image/Text2ImageCustomPickerElement.vue?vue&type=template&id=b9b6acf0&scoped=true","webpack:///assistant/src/components/FreePrompt/FreePromptGenerationDisplay.vue?vue&type=style&index=0&id=1474f52a&scoped=true&lang=scss","webpack:///assistant/src/views/FreePrompt/FreePromptCustomPickerElement.vue?vue&type=style&index=0&id=591b4c70&scoped=true&lang=scss","webpack:///assistant/src/views/Text2Image/Text2ImageCustomPickerElement.vue?vue&type=style&index=0&id=b9b6acf0&scoped=true&lang=scss","webpack://assistant/./src/components/FreePrompt/FreePromptGenerationDisplay.vue?5b16","webpack://assistant/./src/views/FreePrompt/FreePromptCustomPickerElement.vue?dbae","webpack://assistant/./src/views/Text2Image/Text2ImageCustomPickerElement.vue?9467","webpack:///assistant/src/components/FreePrompt/FreePromptGenerationDisplay.vue","webpack:///assistant/src/views/FreePrompt/FreePromptCustomPickerElement.vue","webpack:///assistant/src/views/Text2Image/Text2ImageCustomPickerElement.vue","webpack://assistant/./src/components/FreePrompt/FreePromptGenerationDisplay.vue?a72b","webpack://assistant/./src/views/FreePrompt/FreePromptCustomPickerElement.vue?8543","webpack://assistant/./src/views/Text2Image/Text2ImageCustomPickerElement.vue?72dd","webpack://assistant/./src/components/FreePrompt/FreePromptGenerationDisplay.vue?72c5","webpack://assistant/./src/views/FreePrompt/FreePromptCustomPickerElement.vue?b19a","webpack://assistant/./src/views/Text2Image/Text2ImageCustomPickerElement.vue?430d","webpack://assistant/./src/components/FreePrompt/FreePromptGenerationDisplay.vue?293d","webpack://assistant/./src/views/FreePrompt/FreePromptCustomPickerElement.vue?4477","webpack://assistant/./src/views/Text2Image/Text2ImageCustomPickerElement.vue?a398"],"sourcesContent":["import ContentCopyIcon from 'vue-material-design-icons/ContentCopy.vue';\nimport ClipboardCheckOutlineIcon from 'vue-material-design-icons/ClipboardCheckOutline.vue';\nimport NcButton from '@nextcloud/vue/dist/Components/NcButton.js';\nimport NcLoadingIcon from '@nextcloud/vue/dist/Components/NcLoadingIcon.js';\nimport NcRichContenteditable from '@nextcloud/vue/dist/Components/NcRichContenteditable.js';\nimport NcCheckboxRadioSwitch from '@nextcloud/vue/dist/Components/NcCheckboxRadioSwitch.js';\nimport axios from '@nextcloud/axios';\nimport { generateUrl } from '@nextcloud/router';\nimport { showError } from '@nextcloud/dialogs';\nimport humanizeDuration from 'humanize-duration';\nimport VueClipboard from 'vue-clipboard2';\nimport Vue from 'vue';\nVue.use(VueClipboard);\nexport default {\n  name: 'FreePromptGenerationDisplay',\n  components: {\n    NcLoadingIcon,\n    NcRichContenteditable,\n    NcButton,\n    NcCheckboxRadioSwitch,\n    ContentCopyIcon,\n    ClipboardCheckOutlineIcon\n  },\n  props: {\n    genId: {\n      type: String,\n      required: true\n    }\n  },\n  data() {\n    return {\n      originalResponse: null,\n      originalResult: null,\n      result: null,\n      copied: false,\n      loading: true,\n      processing: false,\n      bgProcessingScheduled: false,\n      includePrompt: false,\n      prompt: '',\n      timeUntilCompletion: null,\n      rawCompletionTimestamp: null,\n      closed: false\n    };\n  },\n  mounted() {\n    this.getResults();\n  },\n  beforeDestroy() {\n    this.closed = true;\n  },\n  methods: {\n    getResults() {\n      // Check if this element has already been closed/destroyed\n      if (this.closed) {\n        return;\n      }\n      const config = {\n        params: {\n          genId: this.genId\n        }\n      };\n      const url = generateUrl('/apps/assistant/f/get_outputs');\n      return axios.get(url, config).then(response => {\n        const data = response.data;\n        if (data.length && data.length > 0) {\n          if (!data.length || data[0]?.status === undefined) {\n            this.loading = false;\n            showError(t('assistant', 'Unexpected server response'));\n            this.$emit('error');\n            return;\n          }\n          if (this.rawCompletionTimestamp === null) {\n            // Get the largest timestamp of all generations\n            this.rawCompletionTimestamp = Math.max(...data.map(c => c.completion_time));\n            this.updateTimeUntilCompletion(this.rawCompletionTimestamp);\n          }\n\n          // Check if processing of all completions is finished\n          // 1 = scheduled, 2 = running\n          const numGensProcessing = data.filter(c => c.status === 1 || c.status === 2).length;\n          if (numGensProcessing === 0) {\n            // 4 = failed, 0 = unknown\n            const nFailures = data.filter(c => c.status === 4 || c.status === 0).length;\n            if (nFailures > 0) {\n              if (nFailures === data.length) {\n                showError(t('assistant', 'The processing of generations failed.'));\n                this.loading = false;\n                this.result = null;\n                this.$emit('error');\n                return;\n              }\n              showError(t('assistant', 'The processing of some generations failed.'));\n            }\n            this.loading = false;\n            this.$emit('loaded');\n            this.processCompletion(data);\n          } else {\n            if (numGensProcessing === data.length) {\n              this.bgProcessingScheduled = true;\n            }\n            this.processing = true;\n            this.$emit('scheduled');\n            this.processCompletion(data);\n            setTimeout(() => {\n              this.getResults();\n            }, 1000);\n          }\n        } else {\n          this.loading = false;\n          this.$emit('error');\n          this.error = response.data.error;\n        }\n      }).catch(error => {\n        this.loading = false;\n        this.$emit('error');\n        console.error('Text  completions request error', error);\n        showError(t('assistant', 'Text generation error') + ': ' + (error.response?.data?.body?.error?.message || error.response?.data?.body?.error?.code || error.response?.data?.error || t('assistant', 'Unknown text generation API error')));\n      });\n    },\n    onReset() {\n      this.result = this.originalResult;\n    },\n    delayedReset() {\n      // This is a hack to sure the text box is updated\n      // when we reset the text since removing newlines or spaces\n      // from the end of the text does not trigger an update.\n\n      // Delete any trailing newlines\n      this.result = this.result.replace(/\\n+$/, '');\n      this.result += '.';\n\n      // Let the ui refresh before resetting the text\n      setTimeout(() => {\n        this.onReset();\n      }, 0);\n    },\n    async onCopy() {\n      try {\n        const container = this.$refs.output.$el;\n        await this.$copyText(this.result.trim(), container);\n        this.copied = true;\n        setTimeout(() => {\n          this.copied = false;\n        }, 5000);\n      } catch (error) {\n        console.error(error);\n        showError(t('assistant', 'Result could not be copied to clipboard'));\n      }\n    },\n    processCompletion(response) {\n      this.originalResponse = response;\n      const totalGens = response.length;\n      // Drop completions that are not yet finished\n      this.prompt = response[0].prompt;\n      response = response.filter(c => c.status === 3);\n      const answers = response.filter(c => !!c.text).map(c => c.text.replace(/^\\s+|\\s+$/g, ''));\n      if (answers.length > 0) {\n        if (totalGens === 1) {\n          this.originalResult = this.result = this.includePrompt ? t('assistant', 'Prompt') + '\\n' + this.prompt + '\\n\\n' + t('assistant', 'Result') + '\\n' + answers[0] : answers[0];\n        } else {\n          const multiAnswers = answers.map((a, i) => {\n            return t('assistant', 'Result {index}', {\n              index: i + 1\n            }) + '\\n' + a;\n          });\n          this.originalResult = this.result = this.includePrompt ? t('assistant', 'Prompt') + '\\n' + this.prompt + '\\n\\n' + multiAnswers.join('\\n\\n') : multiAnswers.join('\\n\\n');\n        }\n      }\n      this.$emit('update:result', this.result);\n    },\n    onIncludePromptToggle() {\n      this.processCompletion(this.originalResponse);\n    },\n    onTextEdit() {\n      this.$emit('update:result', this.result);\n    },\n    updateTimeUntilCompletion(completionTimeStamp) {\n      const timeDifference = new Date(completionTimeStamp * 1000) - new Date();\n      if (timeDifference < 60000) {\n        this.timeUntilCompletion = null;\n        return;\n      }\n      this.timeUntilCompletion = humanizeDuration(timeDifference, {\n        units: ['h', 'm'],\n        language: OC.getLanguage(),\n        fallbacks: ['en'],\n        round: true\n      });\n\n      // Schedule next update:\n      if (!this.closed) {\n        setTimeout(() => {\n          this.updateTimeUntilCompletion(completionTimeStamp);\n        }, 30000);\n      }\n    }\n  }\n};","import EyeIcon from 'vue-material-design-icons/Eye.vue';\nimport RefreshIcon from 'vue-material-design-icons/Refresh.vue';\nimport ArrowRightIcon from 'vue-material-design-icons/ArrowRight.vue';\nimport NcButton from '@nextcloud/vue/dist/Components/NcButton.js';\nimport NcLoadingIcon from '@nextcloud/vue/dist/Components/NcLoadingIcon.js';\nimport NcTextField from '@nextcloud/vue/dist/Components/NcTextField.js';\nimport NcUserBubble from '@nextcloud/vue/dist/Components/NcUserBubble.js';\nimport FreePromptGenerationDisplay from '../../components/FreePrompt/FreePromptGenerationDisplay.vue';\nimport axios from '@nextcloud/axios';\nimport { generateUrl } from '@nextcloud/router';\nimport { showError } from '@nextcloud/dialogs';\nexport default {\n  name: 'FreePromptCustomPickerElement',\n  components: {\n    NcButton,\n    NcLoadingIcon,\n    NcTextField,\n    ArrowRightIcon,\n    NcUserBubble,\n    RefreshIcon,\n    EyeIcon,\n    FreePromptGenerationDisplay\n  },\n  props: {\n    providerId: {\n      type: String,\n      required: true\n    },\n    accessible: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      query: '',\n      genId: null,\n      loading: false,\n      error: false,\n      models: [],\n      completionNumber: 1,\n      prompts: null,\n      notify: false,\n      submitted: false,\n      result: null,\n      scheduled: false\n    };\n  },\n  computed: {\n    previewButtonLabel() {\n      return this.result !== null ? t('assistant', 'Regenerate') : t('assistant', 'Preview');\n    },\n    emptyResult() {\n      return this.result.trim() === '';\n    }\n  },\n  watch: {},\n  mounted() {\n    this.focusOnInput();\n    this.getPromptHistory();\n  },\n  beforeDestroy() {\n    if (!this.notify && !this.submitted) {\n      this.cancelGeneration();\n    }\n  },\n  methods: {\n    focusOnInput() {\n      setTimeout(() => {\n        this.$refs['assistant-search-input'].$el.getElementsByTagName('input')[0]?.focus();\n      }, 300);\n    },\n    getPromptHistory() {\n      const params = {\n        params: {}\n      };\n      const url = generateUrl('/apps/assistant/f/prompt_history');\n      return axios.get(url, params).then(response => {\n        this.prompts = response.data;\n      }).catch(error => {\n        console.error(error);\n      });\n    },\n    submit() {\n      this.submitted = true;\n      this.$emit('submit', this.result.trim());\n    },\n    onError() {\n      this.error = true;\n      this.loading = false;\n      this.genId = null;\n    },\n    onLoaded() {\n      this.loading = false;\n    },\n    insertPrompt(prompt) {\n      if (this.prompts.find(p => p.value === prompt) === undefined) {\n        this.prompts.unshift({\n          id: 0,\n          value: prompt\n        });\n      }\n    },\n    generate() {\n      if (this.query === '') {\n        return;\n      }\n      this.loading = true;\n      this.scheduled = false;\n      this.error = false;\n      this.result = null;\n      this.genId = null;\n      const params = {\n        prompt: this.query,\n        nResults: this.completionNumber\n      };\n      const url = generateUrl('/apps/assistant/f/process_prompt');\n      return axios.post(url, params).then(response => {\n        const data = response.data;\n        if (data.length && data.length > 0) {\n          this.genId = data;\n          this.insertPrompt(this.query);\n        } else {\n          this.error = response.data.error;\n        }\n      }).catch(error => {\n        this.loading = false;\n        console.error('Text  completions request error', error);\n        showError(t('assistant', 'Text generation error') + ': ' + (error.response?.data?.body?.error?.message || error.response?.data?.body?.error?.code || error.response?.data?.error || t('assistant', 'Unknown text generation API error')));\n      });\n    },\n    cancelGeneration() {\n      if (this.genId === null) {\n        return;\n      }\n      const params = {\n        genId: this.genId\n      };\n      const url = generateUrl('/apps/assistant/f/cancel_generation');\n      return axios.post(url, params).then(response => {\n        this.genId = null;\n        this.result = null;\n        this.loading = false;\n      }).catch(error => {\n        console.error('Text  completions request error', error);\n        showError(t('assistant', 'Text generation error') + ': ' + (error.response?.data?.body?.error?.message || error.response?.data?.body?.error?.code || error.response?.data?.error || t('assistant', 'Unknown text generation API error')));\n      });\n    },\n    notifyWhenReady() {\n      /* For now all tasks will have a notification, since the assistant\n       * backend doesn't support omitting a notification, yet.\n       */\n      this.notify = true;\n      this.$emit('submit', '');\n      /* if (this.failed || this.genId === null) {\n      \treturn\n      }\n      \tconst params = {\n      \tgenId: this.genId,\n      \tnotify: true,\n      }\n      const url = generateUrl('/apps/assistant/f/set_notify')\n      axios.post(url, params)\n      \t.then(() => {\n      \t\tshowMessage(t('assistant', 'You will be notified when the text generation is ready.'))\n      \t\tthis.notify = true\n      \t\tthis.$emit('submit', '')\n      \t})\n      \t.catch((error) => {\n      \t\tconsole.error('Notify when ready request error', error)\n      \t\tshowError(\n      \t\t\tt('assistant', 'Notify when ready error') + ': '\n      \t\t\t+ (error.response?.data?.body?.error?.message\n      \t\t\t\t|| error.response?.data?.body?.error?.code\n      \t\t\t\t|| error.response?.data?.error\n      \t\t\t\t|| t('assistant', 'Unknown notify when ready error')\n      \t\t\t),\n      \t\t)\n      \t}) */\n    }\n  }\n};","import EyeIcon from 'vue-material-design-icons/Eye.vue';\nimport RefreshIcon from 'vue-material-design-icons/Refresh.vue';\nimport ArrowRightIcon from 'vue-material-design-icons/ArrowRight.vue';\nimport NcButton from '@nextcloud/vue/dist/Components/NcButton.js';\nimport NcLoadingIcon from '@nextcloud/vue/dist/Components/NcLoadingIcon.js';\nimport NcTextField from '@nextcloud/vue/dist/Components/NcTextField.js';\nimport NcCheckboxRadioSwitch from '@nextcloud/vue/dist/Components/NcCheckboxRadioSwitch.js';\nimport NcUserBubble from '@nextcloud/vue/dist/Components/NcUserBubble.js';\nimport ChevronRightIcon from 'vue-material-design-icons/ChevronRight.vue';\nimport ChevronDownIcon from 'vue-material-design-icons/ChevronDown.vue';\nimport axios from '@nextcloud/axios';\nimport { generateUrl } from '@nextcloud/router';\nimport { showError, showMessage } from '@nextcloud/dialogs';\nimport Text2ImageDisplay from '../../components/Text2Image/Text2ImageDisplay.vue';\nexport default {\n  name: 'Text2ImageCustomPickerElement',\n  components: {\n    NcButton,\n    NcLoadingIcon,\n    NcTextField,\n    NcCheckboxRadioSwitch,\n    ArrowRightIcon,\n    NcUserBubble,\n    RefreshIcon,\n    EyeIcon,\n    Text2ImageDisplay\n  },\n  props: {\n    providerId: {\n      type: String,\n      required: true\n    },\n    accessible: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      query: '',\n      result: null,\n      loading: false,\n      isGenerating: false,\n      models: [],\n      inputPlaceholder: t('assistant', 'A description of the image you want to generate'),\n      displayPrompt: true,\n      notify: false,\n      prompts: null,\n      submitted: false,\n      nResults: 1,\n      showAdvanced: false\n    };\n  },\n  computed: {\n    previewButtonLabel() {\n      return this.result !== null ? t('assistant', 'Regenerate') : t('assistant', 'Preview');\n    },\n    emptyResult() {\n      return this.result === null || this.result.length === 0;\n    },\n    showAdvancedIcon() {\n      return this.showAdvanced ? ChevronDownIcon : ChevronRightIcon;\n    }\n  },\n  watch: {\n    displayPrompt(newValue) {\n      localStorage.setItem('text2image_display_prompt', JSON.stringify(newValue));\n    }\n  },\n  mounted() {\n    this.focusOnInput();\n    this.getPromptHistory();\n    const cachedValue = localStorage.getItem('text2image_display_prompt') === 'true';\n    if (cachedValue !== null) {\n      this.displayPrompt = cachedValue;\n    }\n  },\n  beforeDestroy() {\n    if (!this.submitted && !this.notify) {\n      this.cancelGeneration();\n    }\n  },\n  methods: {\n    focusOnInput() {\n      setTimeout(() => {\n        this.$refs['text2image-search-input'].$el.getElementsByTagName('input')[0]?.focus();\n      }, 300);\n    },\n    getPromptHistory() {\n      const params = {\n        params: {}\n      };\n      const url = generateUrl('/apps/assistant/i/prompt_history');\n      return axios.get(url, params).then(response => {\n        this.prompts = response.data;\n      }).catch(error => {\n        console.error(error);\n      });\n    },\n    submit() {\n      this.submitted = true;\n      this.$emit('submit', this.result.reference_url);\n    },\n    insertPrompt(prompt) {\n      if (this.prompts.find(p => p.value === prompt) === undefined) {\n        this.prompts.unshift({\n          id: 0,\n          value: prompt\n        });\n      }\n    },\n    cancelGeneration() {\n      if (this.result === null) {\n        return;\n      }\n      const url = generateUrl('/apps/assistant/i/cancel_generation');\n      axios.post(url, {\n        imageGenId: this.result.image_gen_id\n      }).catch(error => {\n        console.error('Image generation cancel request error', error);\n        showError(t('assistant', 'Image generation cancel error') + ': ' + (error.response?.data?.body?.error?.message || error.response?.data?.body?.error?.code || error.response?.data?.error || t('assistant', 'Unknown image generation cancel error')));\n      });\n      this.result = null;\n    },\n    generate() {\n      if (this.result !== null) {\n        this.cancelGeneration();\n      }\n      if (this.query === '') {\n        return;\n      }\n      this.loading = true;\n      const params = {\n        prompt: this.query,\n        nResults: this.nResults,\n        displayPrompt: this.displayPrompt\n      };\n      const url = generateUrl('/apps/assistant/i/process_prompt');\n      return axios.post(url, params).then(response => {\n        const data = response.data;\n        if (data?.url !== undefined) {\n          this.result = data;\n          this.insertPrompt(this.query);\n        } else {\n          showError(t('assistant', 'Unexpected response from server.'));\n        }\n      }).catch(error => {\n        console.error('Image generation request error', error);\n        showError(t('assistant', 'Image generation error') + ': ' + (error.response?.data?.body?.error?.message || error.response?.data?.body?.error?.code || error.response?.data?.error || t('assistant', 'Unknown image generation error')));\n      }).then(() => {\n        this.loading = false;\n      });\n    },\n    notifyWhenReady() {\n      if (this.failed || this.result === null) {\n        return;\n      }\n      const url = generateUrl('/apps/assistant/i/notify/' + this.result.image_gen_id);\n      axios.post(url).then(() => {\n        showMessage(t('assistant', 'You will be notified when the image generation is ready.'));\n        this.notify = true;\n        this.$emit('submit', '');\n      }).catch(error => {\n        console.error('Notify when ready request error', error);\n        showError(t('assistant', 'Notify when ready error') + ': ' + (error.response?.data?.body?.error?.message || error.response?.data?.body?.error?.code || error.response?.data?.error || t('assistant', 'Unknown notify when ready error')));\n      });\n    },\n    imageGenerationFailed() {\n      this.isGenerating = false;\n    },\n    imageGenerationReady() {\n      this.isGenerating = false;\n    },\n    imageGenerationIsProcessing() {\n      this.isGenerating = true;\n    }\n  }\n};","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c;\n  return _c('div', {\n    staticClass: \"display-container\"\n  }, [_vm.result !== null && _vm.result !== '' ? _c('NcRichContenteditable', {\n    ref: \"output\",\n    staticClass: \"editable-preview\",\n    attrs: {\n      \"id\": \"free-prompt-output\",\n      \"value\": _vm.result,\n      \"multiline\": true,\n      \"disabled\": _vm.loading,\n      \"placeholder\": _vm.t('assistant', 'Text generation content'),\n      \"link-autocomplete\": false\n    },\n    on: {\n      \"update:value\": [function ($event) {\n        _vm.result = $event;\n      }, _vm.onTextEdit]\n    }\n  }) : _vm._e(), _vm._v(\" \"), _vm.loading ? _c('div', [_c('NcLoadingIcon', {\n    attrs: {\n      \"size\": 64\n    }\n  }), _vm._v(\" \"), _vm.processing ? _c('div', {\n    staticClass: \"loading-info\"\n  }, [_vm.bgProcessingScheduled ? _c('div', {\n    staticClass: \"task-scheduled-info\"\n  }, [_vm._v(\"\\n\\t\\t\\t\\t\" + _vm._s(_vm.t('assistant', 'The text generation task was scheduled to run in the background.')) + \"\\n\\t\\t\\t\\t\"), _vm.timeUntilCompletion !== null ? _c('div', [_vm._v(\"\\n\\t\\t\\t\\t\\t\" + _vm._s(_vm.t('assistant', 'Estimated completion time: ') + _vm.timeUntilCompletion) + \"\\n\\t\\t\\t\\t\")]) : _c('div', [_vm._v(\"\\n\\t\\t\\t\\t\\t\" + _vm._s(_vm.t('assistant', 'This can take a while…')) + \"\\n\\t\\t\\t\\t\")])]) : _c('div', [_vm._v(\"\\n\\t\\t\\t\\t\" + _vm._s(_vm.t('assistant', 'Some generations are still being processed in the background! Showing finished generations.')) + \"\\n\\t\\t\\t\")])]) : _c('div', [_vm._v(\"\\n\\t\\t\\t\" + _vm._s(_vm.t('assistant', 'Loading generations…')) + \"\\n\\t\\t\")])], 1) : _vm._e(), _vm._v(\" \"), !_vm.loading ? _c('div', {\n    staticClass: \"button-wrapper\"\n  }, [_c('NcButton', {\n    attrs: {\n      \"disabled\": _vm.result === null || _vm.loading,\n      \"type\": \"secondary\",\n      \"title\": _vm.t('assistant', 'Copy output text to clipboard')\n    },\n    on: {\n      \"click\": _vm.onCopy\n    },\n    scopedSlots: _vm._u([{\n      key: \"icon\",\n      fn: function () {\n        return [_vm.copied ? _c('ClipboardCheckOutlineIcon') : _c('ContentCopyIcon')];\n      },\n      proxy: true\n    }], null, false, 2003204616)\n  }, [_vm._v(\"\\n\\t\\t\\t\" + _vm._s(_vm.t('assistant', 'Copy output')) + \"\\n\\t\\t\\t\")]), _vm._v(\" \"), _c('NcButton', {\n    attrs: {\n      \"disabled\": _vm.result === _vm.originalResult || _vm.loading,\n      \"type\": \"secondary\",\n      \"title\": _vm.t('assistant', 'Reset the output value to the originally generated one')\n    },\n    on: {\n      \"click\": _vm.delayedReset\n    }\n  }, [_vm._v(\"\\n\\t\\t\\t\" + _vm._s(_vm.t('assistant', 'Reset')) + \"\\n\\t\\t\")]), _vm._v(\" \"), _c('NcCheckboxRadioSwitch', {\n    attrs: {\n      \"checked\": _vm.includePrompt,\n      \"disabled\": _vm.loading || _vm.result === ''\n    },\n    on: {\n      \"update:checked\": [function ($event) {\n        _vm.includePrompt = $event;\n      }, _vm.onIncludePromptToggle]\n    }\n  }, [_vm._v(\"\\n\\t\\t\\t\" + _vm._s(_vm.t('assistant', 'Include prompt in the final result')) + \"\\n\\t\\t\")])], 1) : _vm._e()], 1);\n};\nvar staticRenderFns = [];\nrender._withStripped = true;\nexport { render, staticRenderFns };","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c;\n  return _c('div', {\n    staticClass: \"assistant-picker-content-wrapper\"\n  }, [_c('div', {\n    staticClass: \"assistant-picker-content\"\n  }, [_c('h2', [_vm._v(\"\\n\\t\\t\\t\" + _vm._s(_vm.t('assistant', 'AI text generation')) + \"\\n\\t\\t\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"input-wrapper\"\n  }, [_c('NcTextField', {\n    ref: \"assistant-search-input\",\n    attrs: {\n      \"value\": _vm.query,\n      \"label\": _vm.t('assistant', 'Enter your question or task here:'),\n      \"placeholder\": \"Generate a TODO list for a classic work day.\",\n      \"disabled\": _vm.loading,\n      \"show-trailing-button\": !!_vm.query\n    },\n    on: {\n      \"update:value\": function ($event) {\n        _vm.query = $event;\n      },\n      \"keydown\": function ($event) {\n        if (!$event.type.indexOf('key') && _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")) return null;\n        return _vm.generate.apply(null, arguments);\n      },\n      \"trailing-button-click\": function ($event) {\n        _vm.query = '';\n      }\n    }\n  })], 1), _vm._v(\" \"), _vm.result === null || _vm.query === '' ? _c('div', {\n    staticClass: \"prompts\"\n  }, _vm._l(_vm.prompts, function (p) {\n    return _c('NcUserBubble', {\n      key: p.id + p.value,\n      staticClass: \"prompt-bubble\",\n      attrs: {\n        \"title\": p.value,\n        \"size\": 30,\n        \"avatar-image\": \"icon-history\",\n        \"display-name\": p.value\n      },\n      on: {\n        \"click\": function ($event) {\n          _vm.query = p.value;\n        }\n      }\n    });\n  }), 1) : _vm._e(), _vm._v(\" \"), _c('div', {\n    staticClass: \"preview\"\n  }, [_vm.genId !== null ? _c('FreePromptGenerationDisplay', {\n    attrs: {\n      \"gen-id\": _vm.genId,\n      \"result\": _vm.result\n    },\n    on: {\n      \"update:result\": function ($event) {\n        _vm.result = $event;\n      },\n      \"error\": _vm.onError,\n      \"loaded\": _vm.onLoaded,\n      \"scheduled\": function ($event) {\n        _vm.scheduled = true;\n      }\n    }\n  }) : _vm._e()], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"footer\"\n  }, [_c('NcButton', {\n    attrs: {\n      \"type\": \"secondary\",\n      \"aria-label\": _vm.t('assistant', 'Preview text generation by AI'),\n      \"disabled\": _vm.loading || !_vm.query\n    },\n    on: {\n      \"click\": _vm.generate\n    },\n    scopedSlots: _vm._u([{\n      key: \"icon\",\n      fn: function () {\n        return [_vm.loading ? _c('NcLoadingIcon') : _vm.result !== null ? _c('RefreshIcon') : _c('EyeIcon')];\n      },\n      proxy: true\n    }])\n  }, [_vm._v(\"\\n\\t\\t\\t\\t\" + _vm._s(_vm.previewButtonLabel) + \"\\n\\t\\t\\t\\t\")]), _vm._v(\" \"), _vm.genId !== null && _vm.loading && _vm.scheduled ? _c('NcButton', {\n    attrs: {\n      \"type\": \"secondary\"\n    },\n    on: {\n      \"click\": _vm.notifyWhenReady\n    },\n    scopedSlots: _vm._u([{\n      key: \"icon\",\n      fn: function () {\n        return [_c('ArrowRightIcon')];\n      },\n      proxy: true\n    }], null, false, 1168934321)\n  }, [_vm._v(\"\\n\\t\\t\\t\\t\" + _vm._s(_vm.t('assistant', 'Notify when ready')) + \"\\n\\t\\t\\t\\t\")]) : _vm._e(), _vm._v(\" \"), _vm.result !== null ? _c('NcButton', {\n    attrs: {\n      \"type\": \"primary\",\n      \"aria-label\": _vm.t('assistant', 'Submit text generated by AI'),\n      \"disabled\": _vm.loading || _vm.emptyResult\n    },\n    on: {\n      \"click\": _vm.submit\n    },\n    scopedSlots: _vm._u([{\n      key: \"icon\",\n      fn: function () {\n        return [_c('ArrowRightIcon')];\n      },\n      proxy: true\n    }], null, false, 1168934321)\n  }, [_vm._v(\"\\n\\t\\t\\t\\t\" + _vm._s(_vm.t('assistant', 'Submit')) + \"\\n\\t\\t\\t\\t\")]) : _vm._e()], 1)])]);\n};\nvar staticRenderFns = [];\nrender._withStripped = true;\nexport { render, staticRenderFns };","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c;\n  return _c('div', {\n    staticClass: \"text2image-picker-content-wrapper\"\n  }, [_c('div', {\n    staticClass: \"text2image-picker-content\"\n  }, [_c('h2', [_vm._v(\"\\n\\t\\t\\t\" + _vm._s(_vm.t('assistant', 'AI Image Generation')) + \"\\n\\t\\t\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"input-wrapper\"\n  }, [_c('NcTextField', {\n    ref: \"text2image-search-input\",\n    attrs: {\n      \"value\": _vm.query,\n      \"label\": _vm.inputPlaceholder,\n      \"placeholder\": \"\",\n      \"disabled\": _vm.loading,\n      \"show-trailing-button\": !!_vm.query\n    },\n    on: {\n      \"update:value\": function ($event) {\n        _vm.query = $event;\n      },\n      \"keydown\": function ($event) {\n        if (!$event.type.indexOf('key') && _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")) return null;\n        return _vm.generate.apply(null, arguments);\n      },\n      \"trailing-button-click\": function ($event) {\n        _vm.query = '';\n      }\n    }\n  })], 1), _vm._v(\" \"), _vm.result === null || _vm.query === '' ? _c('div', {\n    staticClass: \"prompts\"\n  }, _vm._l(_vm.prompts, function (p) {\n    return _c('NcUserBubble', {\n      key: p.id + p.value,\n      staticClass: \"prompt-bubble\",\n      attrs: {\n        \"title\": p.value,\n        \"size\": 30,\n        \"avatar-image\": \"icon-history\",\n        \"display-name\": p.value\n      },\n      on: {\n        \"click\": function ($event) {\n          _vm.query = p.value;\n        }\n      }\n    });\n  }), 1) : _vm._e(), _vm._v(\" \"), _vm.result !== null ? _c('div', {\n    staticClass: \"preview-container\"\n  }, [_c('h3', [_vm._v(_vm._s(_vm.t('assistant', 'Preview')))]), _vm._v(\" \"), _c('div', {\n    staticClass: \"image-preview\"\n  }, [_c('Text2ImageDisplay', {\n    key: _vm.result.image_gen_id,\n    attrs: {\n      \"src\": _vm.result.url,\n      \"prompt\": _vm.result.prompt\n    },\n    on: {\n      \"failed\": _vm.imageGenerationFailed,\n      \"ready\": _vm.imageGenerationReady,\n      \"processing\": _vm.imageGenerationIsProcessing\n    }\n  })], 1)]) : _vm._e(), _vm._v(\" \"), _c('div', {\n    staticClass: \"footer\"\n  }, [_c('div', [_c('NcButton', {\n    staticClass: \"advanced-button\",\n    attrs: {\n      \"type\": \"tertiary\",\n      \"aria-label\": _vm.t('assistant', 'Show/hide advanced options')\n    },\n    on: {\n      \"click\": function ($event) {\n        _vm.showAdvanced = !_vm.showAdvanced;\n      }\n    },\n    scopedSlots: _vm._u([{\n      key: \"icon\",\n      fn: function () {\n        return [_c(_vm.showAdvancedIcon, {\n          tag: \"component\"\n        })];\n      },\n      proxy: true\n    }])\n  }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\" + _vm._s(_vm.t('assistant', 'Advanced options')) + \"\\n\\t\\t\\t\\t\")])], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"buttons\"\n  }, [_c('NcButton', {\n    attrs: {\n      \"type\": \"secondary\",\n      \"aria-label\": _vm.t('assistant', 'Preview image generation by AI'),\n      \"disabled\": _vm.loading || !_vm.query\n    },\n    on: {\n      \"click\": _vm.generate\n    },\n    scopedSlots: _vm._u([{\n      key: \"icon\",\n      fn: function () {\n        return [_vm.loading ? _c('NcLoadingIcon') : _vm.result !== null ? _c('RefreshIcon') : _c('EyeIcon')];\n      },\n      proxy: true\n    }])\n  }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\" + _vm._s(_vm.previewButtonLabel) + \"\\n\\t\\t\\t\\t\\t\")]), _vm._v(\" \"), _vm.result !== null ? _c('NcButton', {\n    attrs: {\n      \"type\": \"secondary\",\n      \"disabled\": !_vm.isGenerating\n    },\n    on: {\n      \"click\": _vm.notifyWhenReady\n    },\n    scopedSlots: _vm._u([{\n      key: \"icon\",\n      fn: function () {\n        return [_c('ArrowRightIcon')];\n      },\n      proxy: true\n    }], null, false, 1168934321)\n  }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\" + _vm._s(_vm.t('assistant', 'Notify when ready')) + \"\\n\\t\\t\\t\\t\\t\")]) : _vm._e(), _vm._v(\" \"), _vm.result !== null ? _c('NcButton', {\n    attrs: {\n      \"type\": \"primary\",\n      \"aria-label\": _vm.t('assistant', 'Submit image(s) generated by AI'),\n      \"disabled\": _vm.loading || _vm.emptyResult\n    },\n    on: {\n      \"click\": _vm.submit\n    },\n    scopedSlots: _vm._u([{\n      key: \"icon\",\n      fn: function () {\n        return [_c('ArrowRightIcon')];\n      },\n      proxy: true\n    }], null, false, 1168934321)\n  }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\" + _vm._s(_vm.t('assistant', 'Send')) + \"\\n\\t\\t\\t\\t\\t\")]) : _vm._e()], 1)]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: _vm.showAdvanced,\n      expression: \"showAdvanced\"\n    }],\n    staticClass: \"advanced\"\n  }, [_c('div', {\n    staticClass: \"line\"\n  }, [_c('NcCheckboxRadioSwitch', {\n    staticClass: \"include-query\",\n    attrs: {\n      \"checked\": _vm.displayPrompt\n    },\n    on: {\n      \"update:checked\": function ($event) {\n        _vm.displayPrompt = $event;\n      }\n    }\n  }, [_vm._v(\"\\n\\t\\t\\t\\t\\t\" + _vm._s(_vm.t('assistant', 'Include the prompt in the result')) + \"\\n\\t\\t\\t\\t\")])], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"spacer\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"line\"\n  }, [_c('label', {\n    attrs: {\n      \"for\": \"nResults\"\n    }\n  }, [_vm._v(_vm._s(_vm.t('assistant', 'Number of results')))]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: _vm.nResults,\n      expression: \"nResults\"\n    }],\n    attrs: {\n      \"id\": \"nResults\",\n      \"type\": \"number\",\n      \"min\": \"1\",\n      \"max\": \"10\"\n    },\n    domProps: {\n      \"value\": _vm.nResults\n    },\n    on: {\n      \"input\": function ($event) {\n        if ($event.target.composing) return;\n        _vm.nResults = $event.target.value;\n      }\n    }\n  })])])])]);\n};\nvar staticRenderFns = [];\nrender._withStripped = true;\nexport { render, staticRenderFns };","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.display-container[data-v-1474f52a] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  width: 100%;\n  margin-top: 24px;\n}\n.display-container .loading-info[data-v-1474f52a] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  margin-top: 12px;\n  margin-bottom: 24px;\n}\n.display-container .loading-info .task-scheduled-info[data-v-1474f52a] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n.display-container .button-wrapper[data-v-1474f52a] {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  margin-top: 12px;\n  margin-bottom: 12px;\n}\n.display-container .button-wrapper > *[data-v-1474f52a] {\n  margin-right: 12px;\n  margin-left: 12px;\n}\n.display-container .editable-preview[data-v-1474f52a] {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  overflow-y: auto;\n  overflow-x: hidden;\n  padding: 12px;\n  line-height: 1.5;\n  white-space: pre-wrap;\n  word-break: break-word;\n  margin-bottom: 24px;\n}`, \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.assistant-picker-content-wrapper[data-v-591b4c70] {\n  width: 100%;\n}\n.assistant-picker-content[data-v-591b4c70] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 12px 16px 16px 16px;\n}\n.assistant-picker-content h2[data-v-591b4c70] {\n  display: flex;\n  align-items: center;\n}\n.assistant-picker-content .prompts[data-v-591b4c70] {\n  margin-top: 8px;\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n}\n.assistant-picker-content .prompts > *[data-v-591b4c70] {\n  margin-right: 8px;\n}\n.assistant-picker-content .prompt-bubble[data-v-591b4c70] {\n  max-width: 250px;\n}\n.assistant-picker-content .preview[data-v-591b4c70] {\n  width: 100%;\n}\n.assistant-picker-content .spacer[data-v-591b4c70] {\n  flex-grow: 1;\n}\n.assistant-picker-content .attribution[data-v-591b4c70] {\n  color: var(--color-text-maxcontrast);\n  padding-bottom: 8px;\n}\n.assistant-picker-content .input-wrapper[data-v-591b4c70] {\n  display: flex;\n  align-items: center;\n  width: 100%;\n}\n.assistant-picker-content .prompt-select[data-v-591b4c70] {\n  width: 100%;\n  margin-top: 4px;\n}\n.assistant-picker-content .footer[data-v-591b4c70] {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: end;\n  margin-top: 12px;\n}\n.assistant-picker-content .footer > *[data-v-591b4c70] {\n  margin-left: 4px;\n}`, \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.text2image-picker-content-wrapper[data-v-b9b6acf0] {\n  width: 100%;\n}\n.text2image-picker-content[data-v-b9b6acf0] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 12px 16px 16px 16px;\n}\n.text2image-picker-content h2[data-v-b9b6acf0] {\n  display: flex;\n  align-items: center;\n}\n.text2image-picker-content .prompts[data-v-b9b6acf0] {\n  margin-top: 8px;\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n}\n.text2image-picker-content .prompts > *[data-v-b9b6acf0] {\n  margin-right: 8px;\n}\n.text2image-picker-content .prompt-bubble[data-v-b9b6acf0] {\n  max-width: 250px;\n}\n.text2image-picker-content .preview-container[data-v-b9b6acf0] {\n  width: 90%;\n}\n.text2image-picker-content .preview-container .image-preview[data-v-b9b6acf0] {\n  display: flex;\n  flex-direction: column;\n  margin-top: 8px;\n  border: 3px solid var(--color-border);\n  border-radius: var(--border-radius-large);\n  padding: 12px;\n}\n.text2image-picker-content .spacer[data-v-b9b6acf0] {\n  flex-grow: 1;\n}\n.text2image-picker-content .input-wrapper[data-v-b9b6acf0] {\n  display: flex;\n  align-items: center;\n  width: 100%;\n}\n.text2image-picker-content .prompt-select[data-v-b9b6acf0] {\n  width: 100%;\n  margin-top: 4px;\n}\n.text2image-picker-content .footer[data-v-b9b6acf0] {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  margin-top: 12px;\n  justify-content: space-between;\n}\n.text2image-picker-content .footer .buttons[data-v-b9b6acf0] {\n  display: flex;\n  align-items: end;\n}\n.text2image-picker-content .footer .buttons > *[data-v-b9b6acf0] {\n  margin-left: 4px;\n}\n.text2image-picker-content .advanced[data-v-b9b6acf0] {\n  width: 100%;\n  padding: 12px 0;\n}\n.text2image-picker-content .advanced .line[data-v-b9b6acf0] {\n  display: flex;\n  align-items: center;\n  margin-top: 8px;\n}\n.text2image-picker-content .advanced .line input[data-v-b9b6acf0],\n.text2image-picker-content .advanced .line select[data-v-b9b6acf0] {\n  margin-left: 24px;\n  width: 200px;\n}\n.text2image-picker-content .advanced input[type=number][data-v-b9b6acf0] {\n  width: 80px;\n  appearance: initial !important;\n  -moz-appearance: initial !important;\n  -webkit-appearance: initial !important;\n}`, \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FreePromptGenerationDisplay.vue?vue&type=style&index=0&id=1474f52a&scoped=true&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FreePromptGenerationDisplay.vue?vue&type=style&index=0&id=1474f52a&scoped=true&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FreePromptCustomPickerElement.vue?vue&type=style&index=0&id=591b4c70&scoped=true&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FreePromptCustomPickerElement.vue?vue&type=style&index=0&id=591b4c70&scoped=true&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Text2ImageCustomPickerElement.vue?vue&type=style&index=0&id=b9b6acf0&scoped=true&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Text2ImageCustomPickerElement.vue?vue&type=style&index=0&id=b9b6acf0&scoped=true&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./FreePromptGenerationDisplay.vue?vue&type=template&id=1474f52a&scoped=true\"\nimport script from \"./FreePromptGenerationDisplay.vue?vue&type=script&lang=js\"\nexport * from \"./FreePromptGenerationDisplay.vue?vue&type=script&lang=js\"\nimport style0 from \"./FreePromptGenerationDisplay.vue?vue&type=style&index=0&id=1474f52a&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1474f52a\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/marvin/workspace/blassistant/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('1474f52a')) {\n      api.createRecord('1474f52a', component.options)\n    } else {\n      api.reload('1474f52a', component.options)\n    }\n    module.hot.accept(\"./FreePromptGenerationDisplay.vue?vue&type=template&id=1474f52a&scoped=true\", function () {\n      api.rerender('1474f52a', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/FreePrompt/FreePromptGenerationDisplay.vue\"\nexport default component.exports","import { render, staticRenderFns } from \"./FreePromptCustomPickerElement.vue?vue&type=template&id=591b4c70&scoped=true\"\nimport script from \"./FreePromptCustomPickerElement.vue?vue&type=script&lang=js\"\nexport * from \"./FreePromptCustomPickerElement.vue?vue&type=script&lang=js\"\nimport style0 from \"./FreePromptCustomPickerElement.vue?vue&type=style&index=0&id=591b4c70&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"591b4c70\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/marvin/workspace/blassistant/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('591b4c70')) {\n      api.createRecord('591b4c70', component.options)\n    } else {\n      api.reload('591b4c70', component.options)\n    }\n    module.hot.accept(\"./FreePromptCustomPickerElement.vue?vue&type=template&id=591b4c70&scoped=true\", function () {\n      api.rerender('591b4c70', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/views/FreePrompt/FreePromptCustomPickerElement.vue\"\nexport default component.exports","import { render, staticRenderFns } from \"./Text2ImageCustomPickerElement.vue?vue&type=template&id=b9b6acf0&scoped=true\"\nimport script from \"./Text2ImageCustomPickerElement.vue?vue&type=script&lang=js\"\nexport * from \"./Text2ImageCustomPickerElement.vue?vue&type=script&lang=js\"\nimport style0 from \"./Text2ImageCustomPickerElement.vue?vue&type=style&index=0&id=b9b6acf0&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b9b6acf0\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/marvin/workspace/blassistant/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('b9b6acf0')) {\n      api.createRecord('b9b6acf0', component.options)\n    } else {\n      api.reload('b9b6acf0', component.options)\n    }\n    module.hot.accept(\"./Text2ImageCustomPickerElement.vue?vue&type=template&id=b9b6acf0&scoped=true\", function () {\n      api.rerender('b9b6acf0', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/views/Text2Image/Text2ImageCustomPickerElement.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FreePromptGenerationDisplay.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FreePromptGenerationDisplay.vue?vue&type=script&lang=js\"","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FreePromptCustomPickerElement.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FreePromptCustomPickerElement.vue?vue&type=script&lang=js\"","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Text2ImageCustomPickerElement.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Text2ImageCustomPickerElement.vue?vue&type=script&lang=js\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??ruleSet[1].rules[3]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FreePromptGenerationDisplay.vue?vue&type=template&id=1474f52a&scoped=true\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??ruleSet[1].rules[3]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FreePromptCustomPickerElement.vue?vue&type=template&id=591b4c70&scoped=true\"","export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??ruleSet[1].rules[3]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Text2ImageCustomPickerElement.vue?vue&type=template&id=b9b6acf0&scoped=true\"","export * from \"-!../../../node_modules/style-loader/dist/cjs.js!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FreePromptGenerationDisplay.vue?vue&type=style&index=0&id=1474f52a&scoped=true&lang=scss\"","export * from \"-!../../../node_modules/style-loader/dist/cjs.js!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FreePromptCustomPickerElement.vue?vue&type=style&index=0&id=591b4c70&scoped=true&lang=scss\"","export * from \"-!../../../node_modules/style-loader/dist/cjs.js!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Text2ImageCustomPickerElement.vue?vue&type=style&index=0&id=b9b6acf0&scoped=true&lang=scss\""],"names":[],"sourceRoot":""}